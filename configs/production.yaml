###############################################################################
# Production Configuration (YAML)
#
# Opinionated defaults for cloud deployments (AWS, Azure, GCP, etc.).
#
# You can copy this file and create additional profiles, e.g.:
#   - configs/staging.yaml
#   - configs/demo.yaml
# and select them via ENVIRONMENT=<name>.
###############################################################################

# ---------------------------------------------------------------------------
# Core application metadata
# ---------------------------------------------------------------------------
environment: production           # Used to pick this file (ENVIRONMENT=production)
log_level: INFO                   # Recommended for production
app_name: "Trump Speeches NLP Chatbot API"
app_version: "0.1.0"

# ---------------------------------------------------------------------------
# API settings
# ---------------------------------------------------------------------------
api:
  host: "0.0.0.0"                 # Bind to all interfaces in container
  port: 8000
  reload: false                   # Disable reload in production
  cors_origins:                   # Frontend origins allowed in prod
    - "https://trump-speeches-nlp-chatbot.azurewebsites.net/"  # Replace with your actual domains

# ---------------------------------------------------------------------------
# RAG (Retrieval-Augmented Generation) configuration
# ---------------------------------------------------------------------------
rag:
  chromadb_persist_directory: "./data/chromadb"
  chromadb_collection_name: "speeches"

  chunk_size: 2048
  chunk_overlap: 150

  default_top_k: 5
  use_reranking: true
  use_hybrid_search: true

# ---------------------------------------------------------------------------
# ML model configuration
# ---------------------------------------------------------------------------
models:
  # Sentiment Analysis
  sentiment_model_name: "ProsusAI/finbert"
  emotion_model_name: "j-hartmann/emotion-english-distilroberta-base"

  # Embeddings & Re-ranking
  embedding_model_name: "all-mpnet-base-v2"
  reranker_model_name: "cross-encoder/ms-marco-MiniLM-L-6-v2"

# ---------------------------------------------------------------------------
# Data paths
# ---------------------------------------------------------------------------
paths:
  data_root_directory: "./data"
  speeches_directory: "./data/Donald Trump Rally Speeches"

# ---------------------------------------------------------------------------
# LLM configuration (non-sensitive defaults)
# ---------------------------------------------------------------------------
llm:
  provider: "gemini"             # gemini | openai | anthropic | none
  enabled: true                   # Set false to disable all LLM usage
  model_name: "gemini-2.5-flash" # Production model
  temperature: 0.3                # 0.0 = deterministic, 1.0 = creative
  max_output_tokens: 1024         # Max tokens per response

  # NOTE: The LLM API key is NOT set here on purpose.
  #       Configure it via Azure App Service Application Settings using the LLM_API_KEY variable.

